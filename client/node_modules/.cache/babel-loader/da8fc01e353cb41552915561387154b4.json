{"ast":null,"code":"var _jsxFileName = \"/Users/abhinavchallagundla/Downloads/public_health_record_management_system-master/client/src/components/landingPage/RegisterPatient.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Footer from \"./Footer\";\nimport Navbar from \"./Navbar\";\nimport plus_logo from \"../../assets/img/dashboard/add2_pbl.png\";\nimport minus_logo from \"../../assets/img/dashboard/minus2_pbl.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport ReactLoading from \"react-loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register(props) {\n  _s();\n\n  const navigate = useNavigate();\n  const [Loading, setLoading] = useState(false);\n  const [Toggle, setToggle] = useState(\"Patient\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [errors, setErrors] = useState({\n    name: {},\n    address: {},\n    contactPerson: {\n      address: {}\n    }\n  });\n  const [passwordError, setPasswordError] = useState(\"\");\n\n  const addDisease = () => {\n    const diseaseList1 = [...diseaseList];\n    diseaseList1.push({\n      disease: \"\",\n      yrs: \"\"\n    });\n    setDiseaseList(diseaseList1);\n  };\n\n  const [patient, setPatient] = useState({\n    name: {\n      firstName: \"\",\n      middleName: \"\",\n      surName: \"\"\n    },\n    dob: \"\",\n    mobile: \"\",\n    email: \"\",\n    adharCard: \"\",\n    bloodGroup: \"\",\n    address: {\n      building: \"\",\n      city: \"\",\n      taluka: \"\",\n      district: \"\",\n      state: \"\",\n      pincode: \"\"\n    },\n    password: \"\",\n    diseases: diseaseList,\n    contactPerson: {\n      name: {\n        firstName: \"\",\n        surName: \"\"\n      },\n      mobile: \"\",\n      email: \"\",\n      relation: \"\",\n      address: {\n        building: \"\",\n        city: \"\",\n        taluka: \"\",\n        district: \"\",\n        state: \"\",\n        pincode: \"\"\n      }\n    }\n  });\n  useEffect(() => {\n    const auth = async () => {\n      const res = await fetch(\"/auth\");\n      const data = await res.json();\n\n      if (data.msg === \"Doctor Login Found\") {\n        navigate(\"/doctor/dashboard\");\n      }\n\n      if (data.msg === \"Admin Login Found\") {\n        navigate(\"/admin/dashboard\");\n      }\n\n      if (data.msg === \"Patient Login Found\") {\n        navigate(\"/patient/dashboard\");\n      }\n    };\n\n    auth();\n  });\n\n  const handleRegisterPatient = async e => {\n    e.preventDefault();\n    setPasswordError(\"\");\n\n    if (patient.password === confirmPassword) {\n      setLoading(true);\n      e.preventDefault();\n      const res = await fetch(\"/register/patient\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(patient)\n      });\n      const data = await res.json();\n\n      if (data.errors) {\n        setLoading(false);\n        setErrors(data.errors);\n        props.settoastCondition({\n          status: \"error\",\n          message: \"Please Enter all fields correctly!\"\n        });\n        props.setToastShow(true);\n      } else {\n        setLoading(false);\n        props.settoastCondition({\n          status: \"success\",\n          message: \"Your Registration done Successfully!\"\n        });\n        props.setToastShow(true);\n        navigate(\"/patient/dashboard\");\n      }\n    } else {\n      setPasswordError(\"Password Doesn't Matches\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-secoundry w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" flex justify-center mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"  p-2 px-8 rounded font-bold text-5xl\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"font-poppins lg:ml-60  lg:px-8 lg:py-4 bg-white shadow-lg rounded max-w-screen-lg mt-8 mb-4 \",\n          onSubmit: handleRegisterPatient,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex   mt-2 bg-bgsecondary w-fit  justify-between rounded mx-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setToggle(\"Patient\"),\n              className: Toggle === \"Patient\" ? \"py-2 px-8 text-lg font-poppins font-semibold cursor-pointer rounded bg-primary\" : \"py-2 px-8 text-lg font-poppins font-semibold cursor-pointer rounded bg-bgsecondary\",\n              children: \"Patient\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setToggle(\"Doctor\"),\n              className: Toggle === \"Doctor\" ? \"py-2 px-8 text-lg font-poppins font-semibold cursor-pointer rounded bg-primary\" : \"py-2 px-8 text-lg font-poppins font-semibold cursor-pointer rounded bg-bgsecondary\",\n              children: \"Doctor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Toggle === \"Doctor\" ? \"hidden\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Toggle === \"Patient\" ? \"\" : \"hidden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-auto relative bottom-0\",\n          children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"hcjYp/DZBye2nBI+JmCEKwcuNcc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useEffect","useState","Footer","Navbar","plus_logo","minus_logo","useNavigate","ReactLoading","Register","props","navigate","Loading","setLoading","Toggle","setToggle","confirmPassword","setConfirmPassword","errors","setErrors","name","address","contactPerson","passwordError","setPasswordError","addDisease","diseaseList1","diseaseList","push","disease","yrs","setDiseaseList","patient","setPatient","firstName","middleName","surName","dob","mobile","email","adharCard","bloodGroup","building","city","taluka","district","state","pincode","password","diseases","relation","auth","res","fetch","data","json","msg","handleRegisterPatient","e","preventDefault","method","headers","body","JSON","stringify","settoastCondition","status","message","setToastShow"],"sources":["/Users/abhinavchallagundla/Downloads/public_health_record_management_system-master/client/src/components/landingPage/RegisterPatient.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Footer from \"./Footer\";\nimport Navbar from \"./Navbar\";\nimport plus_logo from \"../../assets/img/dashboard/add2_pbl.png\";\nimport minus_logo from \"../../assets/img/dashboard/minus2_pbl.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport ReactLoading from \"react-loading\";\n\nexport default function Register(props) {\n  const navigate = useNavigate();\n  const [Loading, setLoading] = useState(false);\n  const [Toggle, setToggle] = useState(\"Patient\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [errors, setErrors] = useState({\n    name: {},\n    address: {},\n    contactPerson: { address: {} },\n  });\n  const [passwordError, setPasswordError] = useState(\"\");\n  const addDisease = () => {\n    const diseaseList1 = [...diseaseList];\n    diseaseList1.push({ disease: \"\", yrs: \"\" });\n    setDiseaseList(diseaseList1);\n  };\n\n  const [patient, setPatient] = useState({\n    name: {\n      firstName: \"\",\n      middleName: \"\",\n      surName: \"\",\n    },\n    dob: \"\",\n    mobile: \"\",\n    email: \"\",\n    adharCard: \"\",\n    bloodGroup: \"\",\n    address: {\n      building: \"\",\n      city: \"\",\n      taluka: \"\",\n      district: \"\",\n      state: \"\",\n      pincode: \"\",\n    },\n    password: \"\",\n    diseases: diseaseList,\n    contactPerson: {\n      name: {\n        firstName: \"\",\n        surName: \"\",\n      },\n      mobile: \"\",\n      email: \"\",\n      relation: \"\",\n      address: {\n        building: \"\",\n        city: \"\",\n        taluka: \"\",\n        district: \"\",\n        state: \"\",\n        pincode: \"\",\n      },\n    },\n  });\n\n  useEffect(() => {\n    const auth = async () => {\n      const res = await fetch(\"/auth\");\n      const data = await res.json();\n      if (data.msg === \"Doctor Login Found\") {\n        navigate(\"/doctor/dashboard\");\n      }\n      if (data.msg === \"Admin Login Found\") {\n        navigate(\"/admin/dashboard\");\n      }\n      if (data.msg === \"Patient Login Found\") {\n        navigate(\"/patient/dashboard\");\n      }\n    };\n    auth();\n  });\n\n  const handleRegisterPatient = async (e) => {\n    e.preventDefault();\n    setPasswordError(\"\");\n    if (patient.password === confirmPassword) {\n      setLoading(true);\n      e.preventDefault();\n      const res = await fetch(\"/register/patient\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(patient),\n      });\n\n      const data = await res.json();\n\n      if (data.errors) {\n        setLoading(false);\n        setErrors(data.errors);\n        props.settoastCondition({\n          status: \"error\",\n          message: \"Please Enter all fields correctly!\",\n        });\n        props.setToastShow(true);\n      } else {\n        setLoading(false);\n        props.settoastCondition({\n          status: \"success\",\n          message: \"Your Registration done Successfully!\",\n        });\n        props.setToastShow(true);\n        navigate(\"/patient/dashboard\");\n      }\n    } else {\n      setPasswordError(\"Password Doesn't Matches\");\n    }\n  };\n  return (\n    <div className=\"body overflow-hidden\">\n      <Navbar></Navbar>\n      <div className=\"bg-secoundry w-full\">\n        <div className=\"\">\n          <div className=\" flex justify-center mt-4\">\n            <h1 className=\"  p-2 px-8 rounded font-bold text-5xl\">Register</h1>\n          </div>\n\n          <form\n            className=\"font-poppins lg:ml-60  lg:px-8 lg:py-4 bg-white shadow-lg rounded max-w-screen-lg mt-8 mb-4 \"\n            onSubmit={handleRegisterPatient}\n          >\n            <div className=\"flex   mt-2 bg-bgsecondary w-fit  justify-between rounded mx-auto\">\n              <button\n                onClick={() => setToggle(\"Patient\")}\n                className={\n                  Toggle === \"Patient\"\n                    ? \"py-2 px-8 text-lg font-poppins font-semibold cursor-pointer rounded bg-primary\"\n                    : \"py-2 px-8 text-lg font-poppins font-semibold cursor-pointer rounded bg-bgsecondary\"\n                }\n              >\n                Patient\n              </button>\n              <button\n                onClick={() => setToggle(\"Doctor\")}\n                className={\n                  Toggle === \"Doctor\"\n                    ? \"py-2 px-8 text-lg font-poppins font-semibold cursor-pointer rounded bg-primary\"\n                    : \"py-2 px-8 text-lg font-poppins font-semibold cursor-pointer rounded bg-bgsecondary\"\n                }\n              >\n                Doctor\n              </button>\n            </div>\n\n            <div className={Toggle === \"Doctor\" ? \"hidden\" : \"\"}>\n              {/* Patient registration form */}\n              {/* Your patient registration form JSX code here */}\n            </div>\n\n            <div className={Toggle === \"Patient\" ? \"\" : \"hidden\"}>\n              {/* Patient registration form */}\n              {/* Your patient registration form JSX code here */}\n            </div>\n\n          </form>\n\n          <div className=\"mt-auto relative bottom-0\">\n            <Footer></Footer>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}