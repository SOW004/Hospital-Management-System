{"ast":null,"code":"/*import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport patient_profile from \"../../assets/img/dashboard/patient2_pbl.png\";\nimport Footer from \"../landingPage/Footer\";\nconst PreviewPrescription = (props) => {*/\n//   function printPrescription() {\n//     var mywindow = window.open(\"\", \"PRINT\", \"height=full,width=full\");\n//     mywindow.document.write(\n//       \"<html><head><title>\" + document.title + \"</title> \"\n//     );\n//     mywindow.document.write(\"</head><body >\");\n//     mywindow.document.write(\"<h1>\" + document.title + \"</h1>\");\n//     mywindow.document.write(document.getElementById(\"prescription\").innerHTML);\n//     mywindow.document.write(\"</body></html>\");\n//     // necessary for IE >= 10*/\n//     mywindow.print();\n//     mywindow.close();\n//     return true;\n//   }\n\n/*const convertDatetoString = (dateString) => {\n  let date = new Date(dateString);\n  let day = date.getDate();\n  let month = date.getMonth() + 1;\n  let year = date.getFullYear();\n  return `${day}/${month}/${year}`;\n};\n const navigate = useNavigate();\nconst [prescription, setPrescription] = useState({\n  doctor: \"\",\n  doctormobile: \"\",\n  hospital: {\n    name: \"\",\n    address: \"\",\n    mobile: \"\",\n  },\n  chiefComplaints: [{ complaint: \"\", duration: \"\", finding: \"\" }],\n  notes: \"\",\n  diagnosis: \"\",\n  procedureConducted: \"\",\n  medicines: [\n    {\n      medicineName: \"\",\n      type: \"\",\n      dosage: {\n        morning: { quantity: \"\", remark: \"\" },\n        afternoon: { quantity: \"\", remark: \"\" },\n        evening: { quantity: \"\", remark: \"\" },\n      },\n      duration: \"\",\n      total: \"\",\n    },\n  ],\n  investigations: [{ investigation: \"\" }],\n  advices: [{ advice: \"\" }],\n});\nconst [patient, setPatient] = useState({\n  name: {\n    firstName: \"\",\n    middleName: \"\",\n    surName: \"\",\n  },\n  address: {\n    building: \"\",\n    city: \"\",\n    taluka: \"\",\n    district: \"\",\n    state: \"\",\n    pincode: \"\",\n  },\n});\nuseEffect(() => {\n  async function fetchprescription() {\n    const res = await fetch(`/prescription/${props.prescriptionID}`);\n    const data = await res.json();\n    if (data.AuthError) {\n      props.settoastCondition({\n        status: \"info\",\n        message: \"Please Login to proceed!!!\",\n      });\n      props.setToastShow(true);\n      navigate(\"/\");\n    } else if (data.error) {\n      props.settoastCondition({\n        status: \"error\",\n        message: \"Something went Wrong!!!\",\n      });\n      props.setToastShow(true);\n      navigate(\"/patient/dashboard\");\n    } else {\n      setPrescription(data.prescription[0]);\n    }\n  }\n  async function fetchpatient() {\n    const res = await fetch(\"/getpatient\");\n    const data = await res.json();\n     if (data.AuthError) {\n      props.settoastCondition({\n        status: \"info\",\n        message: \"Please Login to proceed!!!\",\n      });\n      props.setToastShow(true);\n      navigate(\"/\");\n    } else {\n      setPatient(data.patient);\n    }\n  }\n  fetchprescription();\n  fetchpatient();\n}, []);\n return (\n  <div\n    className=\"body h-screen col-span-10 font-poppins   overflow-y-scroll scroll-m-0\"\n    id=\"prescription\"\n  >\n    <div className=\"w-3/4  ml-32 bg-white shadow-xl p-8 mb-4 mt-6\">\n      <div className=\"grid grid-cols-2 border-b-2 border-black\">\n        <div className=\"m-2 \">\n          <div className=\"flex font-bold\">\n            <h1 className=\"\">Dr.</h1>\n            <h1 className=\"ml-2 \">{prescription.doctor}</h1>\n          </div>\n          <div className=\"flex\">\n            <h2 className=\"font-bold\">Mobile No.</h2>\n            <h2 className=\"ml-2\">{prescription.doctormobile}</h2>\n          </div>\n        </div>\n        <div className=\"m-2 \">\n          <div>\n            <h1 className=\"font-bold\">{prescription.hospital.name}</h1>\n          </div>\n          <div className=\"flex\">\n            <h2>{prescription.hospital.address}</h2>*/\n{\n  /* <h2 className=\"ml-2\">425155</h2> */\n}\n/*</div>\n<div className=\"flex\">\n  <h2 className=\"font-bold\">Phone no.</h2>\n  <h2 className=\"ml-2\">{prescription.hospital.mobile}</h2>\n</div>\n</div>\n</div>\n<div className=\"grid grid-cols-3 mt-4\">\n<div className=\"col-span-2\">\n<div className=\"flex\">\n  <h1 className=\"font-bold\">Health ID : </h1>\n  <h4 className=\"ml-2\">{patient.healthID}</h4>\n</div>\n<div className=\"flex\">\n  <h1 className=\"font-bold\">Patient Name : </h1>\n  <div className=\"flex\">\n    <h2 className=\"pl-1\">{patient.name.firstName}</h2>\n    <h2 className=\"pl-1\">{patient.name.middleName}</h2>\n    <h2 className=\"pl-1\">{patient.name.surName}</h2>\n  </div>\n</div>\n<div className=\"flex\">\n  <h1 className=\"font-bold mr-2\">Address: </h1>\n  <h4>{`${patient.address.building},  ${patient.address.city},  ${patient.address.taluka},  ${patient.address.district},  ${patient.address.state},  ${patient.address.pincode}`}</h4>\n</div>\n</div>\n<div>\n<div className=\"flex\">\n  <h1 className=\"font-bold\">Date : </h1>\n  <h4 className=\"ml-2\">\n    {convertDatetoString(prescription.createdAt)}\n  </h4>\n</div>\n</div>\n</div>\n<div className=\"grid grid-rows-2 mt-4 \">\n<div className=\"grid grid-cols-2 justify-center border-t-2 border-b-2 border-black \">\n<h1 className=\"ml-2 font-bold\">Chief complaints</h1>\n<h1 className=\"ml-2 font-bold\">clinincal findings</h1>\n</div>\n{prescription.chiefComplaints.map((complaint) => {\nreturn (\n  <div className=\"grid grid-cols-2 justify-center ml-2 border-b-2 border-gray-400\">\n    <h1>{`${complaint.complaint} (${complaint.duration} days)`}</h1>\n    <h1>{complaint.finding}</h1>\n  </div>\n);\n})}\n</div>\n<div className=\"mt-2\">\n<h1 className=\"font-bold\">Notes </h1>\n<h4 className=\"ml-2\">{prescription.notes}</h4>\n</div>\n<div className=\"mt-2\">\n<h1 className=\"font-bold\">Diagnosis</h1>\n<h4 className=\"ml-2\">{prescription.diagnosis}</h4>\n</div>\n<div className=\"\">\n<h1 className=\"font-bold\">Procedure Conducted</h1>\n<h4 className=\"ml-2\">{prescription.procedureConducted}</h4>\n</div>\n<div className=\"mt-4\">\n<div className=\"grid grid-cols-3 border-b-2 border-t-2 border-black\">\n<h1 className=\"font-bold\">medicine name</h1>\n<h1 className=\"font-bold\">Dosages</h1>\n<h1 className=\"font-bold\">Duration</h1>\n</div>\n{prescription.medicines.map((medicine) => {\nreturn (\n  <div className=\"grid grid-cols-3 border-b-2 border-gray-400\">\n    <div>\n      <h1>{medicine.medicineName}</h1>\n    </div>\n    <div>\n      <div className=\"flex\">\n        <h2>morning :</h2>\n        <h2>{`${medicine.dosage.morning.quantity} (${medicine.dosage.morning.remark})`}</h2>\n      </div>\n      <div className=\"flex\">\n        <h2>afternoon :</h2>\n        <h2>{`${medicine.dosage.afternoon.quantity} (${medicine.dosage.afternoon.remark})`}</h2>\n      </div>\n      <div className=\"flex\">\n        <h2>night :</h2>\n        <h2>{`${medicine.dosage.evening.quantity} (${medicine.dosage.evening.remark})`}</h2>\n      </div>\n    </div>\n    <div>\n      <div className=\"flex\">\n        <h1>days :</h1>\n        <h2>{medicine.duration}</h2>\n      </div>\n      <div className=\"flex\">\n        <h1>Total Tab. :</h1>\n        <h2>{medicine.total}</h2>\n      </div>\n    </div>\n  </div>\n);\n})}\n</div>\n<div className=\"mt-4\">\n<h1 className=\"font-bold\">Insvestigations</h1>\n<div>\n{prescription.investigations.map((investigation) => {\n  return <h3>{investigation.investigation}</h3>;\n})}\n</div>\n</div>\n<div className=\"mb-2\">\n<h1 className=\"font-bold\">Advices</h1>\n<div>\n{prescription.advices.map((advice) => {\n  return <h3>{advice.advice}</h3>;\n})}\n</div>\n</div>\n</div>\n<Footer />\n</div>\n);\n};\nexport default PreviewPrescription;\n*/","map":{"version":3,"names":[],"sources":["/Users/abhinavchallagundla/Downloads/public_health_record_management_system-master/client/src/components/patientDashboard/PreviewPrescription.js"],"sourcesContent":["/*import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport patient_profile from \"../../assets/img/dashboard/patient2_pbl.png\";\nimport Footer from \"../landingPage/Footer\";\nconst PreviewPrescription = (props) => {*/\n\n  //   function printPrescription() {\n  //     var mywindow = window.open(\"\", \"PRINT\", \"height=full,width=full\");\n\n  //     mywindow.document.write(\n  //       \"<html><head><title>\" + document.title + \"</title> \"\n  //     );\n  //     mywindow.document.write(\"</head><body >\");\n  //     mywindow.document.write(\"<h1>\" + document.title + \"</h1>\");\n  //     mywindow.document.write(document.getElementById(\"prescription\").innerHTML);\n  //     mywindow.document.write(\"</body></html>\");\n  //     // necessary for IE >= 10*/\n\n  //     mywindow.print();\n  //     mywindow.close();\n\n  //     return true;\n  //   }\n\n  /*const convertDatetoString = (dateString) => {\n    let date = new Date(dateString);\n    let day = date.getDate();\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    return `${day}/${month}/${year}`;\n  };\n\n  const navigate = useNavigate();\n  const [prescription, setPrescription] = useState({\n    doctor: \"\",\n    doctormobile: \"\",\n    hospital: {\n      name: \"\",\n      address: \"\",\n      mobile: \"\",\n    },\n    chiefComplaints: [{ complaint: \"\", duration: \"\", finding: \"\" }],\n    notes: \"\",\n    diagnosis: \"\",\n    procedureConducted: \"\",\n    medicines: [\n      {\n        medicineName: \"\",\n        type: \"\",\n        dosage: {\n          morning: { quantity: \"\", remark: \"\" },\n          afternoon: { quantity: \"\", remark: \"\" },\n          evening: { quantity: \"\", remark: \"\" },\n        },\n        duration: \"\",\n        total: \"\",\n      },\n    ],\n    investigations: [{ investigation: \"\" }],\n    advices: [{ advice: \"\" }],\n  });\n  const [patient, setPatient] = useState({\n    name: {\n      firstName: \"\",\n      middleName: \"\",\n      surName: \"\",\n    },\n    address: {\n      building: \"\",\n      city: \"\",\n      taluka: \"\",\n      district: \"\",\n      state: \"\",\n      pincode: \"\",\n    },\n  });\n  useEffect(() => {\n    async function fetchprescription() {\n      const res = await fetch(`/prescription/${props.prescriptionID}`);\n      const data = await res.json();\n      if (data.AuthError) {\n        props.settoastCondition({\n          status: \"info\",\n          message: \"Please Login to proceed!!!\",\n        });\n        props.setToastShow(true);\n        navigate(\"/\");\n      } else if (data.error) {\n        props.settoastCondition({\n          status: \"error\",\n          message: \"Something went Wrong!!!\",\n        });\n        props.setToastShow(true);\n        navigate(\"/patient/dashboard\");\n      } else {\n        setPrescription(data.prescription[0]);\n      }\n    }\n    async function fetchpatient() {\n      const res = await fetch(\"/getpatient\");\n      const data = await res.json();\n\n      if (data.AuthError) {\n        props.settoastCondition({\n          status: \"info\",\n          message: \"Please Login to proceed!!!\",\n        });\n        props.setToastShow(true);\n        navigate(\"/\");\n      } else {\n        setPatient(data.patient);\n      }\n    }\n    fetchprescription();\n    fetchpatient();\n  }, []);\n\n  return (\n    <div\n      className=\"body h-screen col-span-10 font-poppins   overflow-y-scroll scroll-m-0\"\n      id=\"prescription\"\n    >\n      <div className=\"w-3/4  ml-32 bg-white shadow-xl p-8 mb-4 mt-6\">\n        <div className=\"grid grid-cols-2 border-b-2 border-black\">\n          <div className=\"m-2 \">\n            <div className=\"flex font-bold\">\n              <h1 className=\"\">Dr.</h1>\n              <h1 className=\"ml-2 \">{prescription.doctor}</h1>\n            </div>\n            <div className=\"flex\">\n              <h2 className=\"font-bold\">Mobile No.</h2>\n              <h2 className=\"ml-2\">{prescription.doctormobile}</h2>\n            </div>\n          </div>\n          <div className=\"m-2 \">\n            <div>\n              <h1 className=\"font-bold\">{prescription.hospital.name}</h1>\n            </div>\n            <div className=\"flex\">\n              <h2>{prescription.hospital.address}</h2>*/\n\n              {/* <h2 className=\"ml-2\">425155</h2> */}\n\n            /*</div>\n            <div className=\"flex\">\n              <h2 className=\"font-bold\">Phone no.</h2>\n              <h2 className=\"ml-2\">{prescription.hospital.mobile}</h2>\n            </div>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-3 mt-4\">\n          <div className=\"col-span-2\">\n            <div className=\"flex\">\n              <h1 className=\"font-bold\">Health ID : </h1>\n              <h4 className=\"ml-2\">{patient.healthID}</h4>\n            </div>\n            <div className=\"flex\">\n              <h1 className=\"font-bold\">Patient Name : </h1>\n              <div className=\"flex\">\n                <h2 className=\"pl-1\">{patient.name.firstName}</h2>\n                <h2 className=\"pl-1\">{patient.name.middleName}</h2>\n                <h2 className=\"pl-1\">{patient.name.surName}</h2>\n              </div>\n            </div>\n            <div className=\"flex\">\n              <h1 className=\"font-bold mr-2\">Address: </h1>\n              <h4>{`${patient.address.building},  ${patient.address.city},  ${patient.address.taluka},  ${patient.address.district},  ${patient.address.state},  ${patient.address.pincode}`}</h4>\n            </div>\n          </div>\n          <div>\n            <div className=\"flex\">\n              <h1 className=\"font-bold\">Date : </h1>\n              <h4 className=\"ml-2\">\n                {convertDatetoString(prescription.createdAt)}\n              </h4>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-rows-2 mt-4 \">\n          <div className=\"grid grid-cols-2 justify-center border-t-2 border-b-2 border-black \">\n            <h1 className=\"ml-2 font-bold\">Chief complaints</h1>\n            <h1 className=\"ml-2 font-bold\">clinincal findings</h1>\n          </div>\n\n          {prescription.chiefComplaints.map((complaint) => {\n            return (\n              <div className=\"grid grid-cols-2 justify-center ml-2 border-b-2 border-gray-400\">\n                <h1>{`${complaint.complaint} (${complaint.duration} days)`}</h1>\n                <h1>{complaint.finding}</h1>\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"mt-2\">\n          <h1 className=\"font-bold\">Notes </h1>\n          <h4 className=\"ml-2\">{prescription.notes}</h4>\n        </div>\n        <div className=\"mt-2\">\n          <h1 className=\"font-bold\">Diagnosis</h1>\n          <h4 className=\"ml-2\">{prescription.diagnosis}</h4>\n        </div>\n        <div className=\"\">\n          <h1 className=\"font-bold\">Procedure Conducted</h1>\n          <h4 className=\"ml-2\">{prescription.procedureConducted}</h4>\n        </div>\n        <div className=\"mt-4\">\n          <div className=\"grid grid-cols-3 border-b-2 border-t-2 border-black\">\n            <h1 className=\"font-bold\">medicine name</h1>\n            <h1 className=\"font-bold\">Dosages</h1>\n            <h1 className=\"font-bold\">Duration</h1>\n          </div>\n          {prescription.medicines.map((medicine) => {\n            return (\n              <div className=\"grid grid-cols-3 border-b-2 border-gray-400\">\n                <div>\n                  <h1>{medicine.medicineName}</h1>\n                </div>\n                <div>\n                  <div className=\"flex\">\n                    <h2>morning :</h2>\n                    <h2>{`${medicine.dosage.morning.quantity} (${medicine.dosage.morning.remark})`}</h2>\n                  </div>\n                  <div className=\"flex\">\n                    <h2>afternoon :</h2>\n                    <h2>{`${medicine.dosage.afternoon.quantity} (${medicine.dosage.afternoon.remark})`}</h2>\n                  </div>\n                  <div className=\"flex\">\n                    <h2>night :</h2>\n                    <h2>{`${medicine.dosage.evening.quantity} (${medicine.dosage.evening.remark})`}</h2>\n                  </div>\n                </div>\n                <div>\n                  <div className=\"flex\">\n                    <h1>days :</h1>\n                    <h2>{medicine.duration}</h2>\n                  </div>\n                  <div className=\"flex\">\n                    <h1>Total Tab. :</h1>\n                    <h2>{medicine.total}</h2>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"mt-4\">\n          <h1 className=\"font-bold\">Insvestigations</h1>\n          <div>\n            {prescription.investigations.map((investigation) => {\n              return <h3>{investigation.investigation}</h3>;\n            })}\n          </div>\n        </div>\n        <div className=\"mb-2\">\n          <h1 className=\"font-bold\">Advices</h1>\n          <div>\n            {prescription.advices.map((advice) => {\n              return <h3>{advice.advice}</h3>;\n            })}\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default PreviewPrescription;\n*/"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAEE;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKc;EAAC;AAAuC;AAE1C;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}